{"version":3,"file":"HierarchicalMenu.vue_vue&type=script&lang.js","sources":["../../../../src/components/HierarchicalMenu.vue"],"sourcesContent":["<template>\n  <div\n    v-if=\"state\"\n    :class=\"[suit(), !canRefine && suit('', 'noRefinement')]\"\n  >\n    <slot\n      :items=\"state.items\"\n      :can-refine=\"canRefine\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :refine=\"state.refine\"\n      :createURL=\"state.createURL\"\n      :toggle-show-more=\"state.toggleShowMore\"\n      :send-event=\"state.sendEvent\"\n    >\n      <hierarchical-menu-list\n        :items=\"state.items\"\n        :level=\"0\"\n        :refine=\"state.refine\"\n        :createURL=\"state.createURL\"\n        :suit=\"suit\"\n      />\n\n      <button\n        v-if=\"showMore\"\n        :class=\"[\n          suit('showMore'),\n          !state.canToggleShowMore && suit('showMore', 'disabled')\n        ]\"\n        :disabled=\"!state.canToggleShowMore\"\n        @click.prevent=\"state.toggleShowMore\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >{{ state.isShowingMore ? 'Show less' : 'Show more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { connectHierarchicalMenu } from 'instantsearch.js/es/connectors';\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport HierarchicalMenuList from './HierarchicalMenuList.vue';\nimport { createSuitMixin } from '../mixins/suit';\n\nconst mapStateToCanRefine = state =>\n  Boolean(state.items) && state.items.length > 0;\n\nexport default {\n  name: 'AisHierarchicalMenu',\n  mixins: [\n    createSuitMixin({ name: 'HierarchicalMenu' }),\n    createWidgetMixin(\n      {\n        connector: connectHierarchicalMenu,\n      },\n      {\n        $$widgetType: 'ais.hierarchicalMenu',\n      }\n    ),\n    createPanelConsumerMixin({\n      mapStateToCanRefine,\n    }),\n  ],\n  components: {\n    HierarchicalMenuList,\n  },\n  props: {\n    attributes: {\n      type: Array,\n      required: true,\n    },\n    limit: {\n      type: Number,\n      default: undefined,\n    },\n    showMoreLimit: {\n      type: Number,\n      default: undefined,\n    },\n    showMore: {\n      type: Boolean,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      default: undefined,\n    },\n    separator: {\n      type: String,\n      default: undefined,\n    },\n    rootPath: {\n      type: String,\n      default: undefined,\n    },\n    showParentLevel: {\n      type: Boolean,\n      default: undefined,\n    },\n    transformItems: {\n      type: Function,\n      default: undefined,\n    },\n  },\n  computed: {\n    widgetParams() {\n      return {\n        attributes: this.attributes,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        separator: this.separator,\n        rootPath: this.rootPath,\n        showParentLevel: this.showParentLevel,\n        sortBy: this.sortBy,\n        transformItems: this.transformItems,\n      };\n    },\n    canRefine() {\n      return mapStateToCanRefine(this.state);\n    },\n  },\n};\n</script>\n"],"names":["const","mapStateToCanRefine","state","Boolean","items","length","name","mixins","createSuitMixin","createWidgetMixin","connector","connectHierarchicalMenu","$$widgetType","createPanelConsumerMixin","components","HierarchicalMenuList","props","attributes","type","Array","required","limit","Number","default","undefined","showMoreLimit","showMore","sortBy","Function","separator","String","rootPath","showParentLevel","transformItems","computed","widgetParams","this","canRefine"],"mappings":"ySAgDAA,IAAMC,WAAsBC,UAC1BC,QAAQD,EAAME,QAAUF,EAAME,MAAMC,OAAS,iBAEhC,CACbC,KAAM,sBACNC,OAAQ,CACNC,EAAgB,CAAEF,KAAM,qBACxBG,EACE,CACEC,UAAWC,GAEb,CACEC,aAAc,yBAGlBC,EAAyB,qBACvBZ,KAGJa,WAAY,sBACVC,GAEFC,MAAO,CACLC,WAAY,CACVC,KAAMC,MACNC,UAAU,GAEZC,MAAO,CACLH,KAAMI,OACNC,aAASC,GAEXC,cAAe,CACbP,KAAMI,OACNC,aAASC,GAEXE,SAAU,CACRR,KAAMf,QACNoB,SAAS,GAEXI,OAAQ,CACNT,KAAM,CAACC,MAAOS,UACdL,aAASC,GAEXK,UAAW,CACTX,KAAMY,OACNP,aAASC,GAEXO,SAAU,CACRb,KAAMY,OACNP,aAASC,GAEXQ,gBAAiB,CACfd,KAAMf,QACNoB,aAASC,GAEXS,eAAgB,CACdf,KAAMU,SACNL,aAASC,IAGbU,SAAU,CACRC,8BACS,CACLlB,WAAYmB,KAAKnB,WACjBI,MAAOe,KAAKf,MACZK,SAAUU,KAAKV,SACfD,cAAeW,KAAKX,cACpBI,UAAWO,KAAKP,UAChBE,SAAUK,KAAKL,SACfC,gBAAiBI,KAAKJ,gBACtBL,OAAQS,KAAKT,OACbM,eAAgBG,KAAKH,iBAGzBI,4BACSpC,EAAoBmC,KAAKlC"}