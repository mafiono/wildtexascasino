{"version":3,"file":"RefinementList.vue_vue&type=template&id=28927239&lang.js","sources":["../../../../src/components/RefinementList.vue?vue&type=template&id=28927239&lang.js"],"sourcesContent":["<template>\n  <div\n    :class=\"[\n      suit(),\n      !state.canRefine && suit('','noRefinement')\n    ]\"\n    v-if=\"state\"\n  >\n    <slot\n      :items=\"items\"\n      :refine=\"refine\"\n      :search-for-items=\"state.searchForItems\"\n      :search-for-items-query=\"searchForFacetValuesQuery\"\n      :toggle-show-more=\"toggleShowMore\"\n      :can-toggle-show-more=\"state.canToggleShowMore\"\n      :is-showing-more=\"state.isShowingMore\"\n      :createURL=\"state.createURL\"\n      :is-from-search=\"state.isFromSearch\"\n      :can-refine=\"state.canRefine\"\n      :send-event=\"state.sendEvent\"\n    >\n      <div\n        :class=\"suit('searchBox')\"\n        v-if=\"searchable\"\n      >\n        <search-input\n          v-model=\"searchForFacetValues\"\n          :placeholder=\"searchablePlaceholder\"\n          :class-names=\"classNames\"\n        />\n      </div>\n      <slot\n        name=\"noResults\"\n        :query=\"searchForFacetValues\"\n        v-if=\"state.isFromSearch && items.length === 0\"\n      >\n        <div :class=\"suit('noResults')\">No results.</div>\n      </slot>\n      <ul :class=\"suit('list')\">\n        <li\n          :class=\"[\n          suit('item'), item.isRefined && suit('item', 'selected')]\"\n          v-for=\"item in items\"\n          :key=\"item.value\"\n        >\n          <slot\n            name=\"item\"\n            :item=\"item\"\n            :refine=\"refine\"\n            :createURL=\"state.createURL\"\n          >\n            <label :class=\"suit('label')\">\n              <input\n                :class=\"suit('checkbox')\"\n                type=\"checkbox\"\n                :value=\"item.value\"\n                :checked=\"item.isRefined\"\n                @change=\"refine(item.value)\"\n              >\n              <span\n                v-if=\"searchable\"\n                :class=\"suit('labelText')\"\n              >\n                <ais-highlight\n                  attribute=\"item\"\n                  :hit=\"item\"\n                />\n              </span>\n              <span\n                v-else\n                :class=\"suit('labelText')\"\n              >{{ item.label }}</span>\n              <span :class=\"suit('count')\">{{ item.count }}</span>\n            </label>\n          </slot>\n        </li>\n      </ul>\n      <button\n        :class=\"[\n          suit('showMore'),\n          {\n            [suit('showMore', 'disabled')]: !state.canToggleShowMore,\n          }\n        ]\"\n        @click=\"toggleShowMore\"\n        v-if=\"showMore\"\n        :disabled=\"!state.canToggleShowMore\"\n      >\n        <slot\n          name=\"showMoreLabel\"\n          :is-showing-more=\"state.isShowingMore\"\n        >Show {{ state.isShowingMore ? 'less' : 'more' }}</slot>\n      </button>\n    </slot>\n  </div>\n</template>\n\n<script>\nimport { createWidgetMixin } from '../mixins/widget';\nimport { createPanelConsumerMixin } from '../mixins/panel';\nimport { createSuitMixin } from '../mixins/suit';\nimport { connectRefinementList } from 'instantsearch.js/es/connectors';\nimport SearchInput from './SearchInput.vue';\nimport AisHighlight from './Highlight.vue';\n\nconst noop = () => {};\n\nexport default {\n  name: 'AisRefinementList',\n  components: { SearchInput, AisHighlight },\n  mixins: [\n    createSuitMixin({ name: 'RefinementList' }),\n    createWidgetMixin(\n      {\n        connector: connectRefinementList,\n      },\n      {\n        $$widgetType: 'ais.refinementList',\n      }\n    ),\n    createPanelConsumerMixin({\n      mapStateToCanRefine: state => Boolean(state.canRefine),\n    }),\n  ],\n  props: {\n    attribute: {\n      type: String,\n      required: true,\n    },\n    searchable: {\n      type: Boolean,\n      default: undefined,\n    },\n    searchablePlaceholder: {\n      type: String,\n      required: false,\n      default: 'Search hereâ€¦',\n    },\n    operator: {\n      default: 'or',\n      validator(value) {\n        return value === 'and' || value === 'or';\n      },\n      required: false,\n    },\n    limit: {\n      type: Number,\n      required: false,\n      default: undefined,\n    },\n    showMoreLimit: {\n      type: Number,\n      required: false,\n      default: undefined,\n    },\n    showMore: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    sortBy: {\n      type: [Array, Function],\n      required: false,\n      default: undefined,\n    },\n    transformItems: {\n      type: Function,\n      required: false,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      searchForFacetValuesQuery: '',\n    };\n  },\n  computed: {\n    searchForFacetValues: {\n      get() {\n        return this.searchForFacetValuesQuery;\n      },\n      set(value) {\n        this.state.searchForItems(value);\n        this.searchForFacetValuesQuery = value;\n      },\n    },\n    toggleShowMore() {\n      return this.state.toggleShowMore || noop;\n    },\n    items() {\n      return this.state.items.map(item =>\n        Object.assign({}, item, {\n          _highlightResult: {\n            item: {\n              value: item.highlighted,\n            },\n          },\n        })\n      );\n    },\n    widgetParams() {\n      return {\n        attribute: this.attribute,\n        operator: this.operator,\n        limit: this.limit,\n        showMore: this.showMore,\n        showMoreLimit: this.showMoreLimit,\n        sortBy: this.sortBy,\n        escapeFacetValues: true,\n        transformItems: this.transformItems,\n      };\n    },\n  },\n  methods: {\n    refine(value) {\n      this.state.refine(value);\n      this.searchForFacetValuesQuery = '';\n    },\n  },\n};\n</script>\n"],"names":["_ctx","_createBlock","class","_renderSlot","items","$options","refine","searchForItems","searchForItemsQuery","$data","toggleShowMore","canToggleShowMore","isShowingMore","createURL","isFromSearch","canRefine","sendEvent","$props","_createVNode","placeholder","length","query","item","key","value","type","checked","isRefined","onChange","attribute","hit","label","count","onClick","disabled"],"mappings":"oRAMUA,aALRC,eACGC,iEAMDC,sBACGC,MAAOC,QACPC,OAAQD,SACRE,eAAkBP,QAAMO,eACxBC,oBAAwBC,4BACxBC,eAAkBL,iBAClBM,kBAAsBX,QAAMW,kBAC5BC,cAAiBZ,QAAMY,cACvBC,UAAWb,QAAMa,UACjBC,aAAgBd,QAAMc,aACtBC,UAAYf,QAAMe,UAClBC,UAAYhB,QAAMgB,mCAIXC,kBAFRhB,eACGC,MAAOF,sBAGRkB,gBACWb,4EAAAA,2BACRc,YAAaF,sCACAjB,mFAMVA,QAAMc,kBAAgBT,QAAMe,OAHpCjB,8BAEGkB,MAAOhB,0CAGRa,SAAMhB,MAAOF,qBAAmB,iCAElCkB,QAAKhB,MAAOF,wBACVC,WAGiBI,iBAARiB,cAHTrB,QACGC,8DAGAqB,IAAKD,EAAKE,QAEXrB,mBAEGmB,KAAMA,EACNhB,OAAQD,SACRQ,UAAWb,QAAMa,6BAElBK,WAAQhB,MAAOF,kBACbkB,WACGhB,MAAOF,mBACRyB,KAAK,WACJD,MAAOF,EAAKE,MACZE,QAASJ,EAAKK,UACdC,4BAAQvB,SAAOiB,EAAKE,iDAGfP,kBADRhB,gBAEGC,MAAOF,sBAERkB,KACEW,UAAU,OACTC,IAAKR,6BAGVrB,gBAEGC,MAAOF,uBACNsB,EAAKS,WACTb,UAAOhB,MAAOF,mBAAkBsB,EAAKU,iCAarCf,gBARRhB,kBACGC,gGAMA+B,6FAAO5B,gDAEP6B,UAAWlC,QAAMW,oBAElBR,4BAEGS,cAAiBZ,QAAMY,mCACzB,UAAQZ,QAAMY"}